<div id="container">
  <div class="input-group mb-3" id="Search-Bar">
    <input type="text" class="form-control" placeholder="Search by title" [(ngModel)]="title" id="Search-Input" />
    <button class="btn btn-outline-secondary" type="button" id="Search-Button" (click)="retrieveStacktraces()">
      <svg xmlns="http://www.w3.org/2000/svg" width="21" height="21" fill="currentColor" class="bi bi-arrow-right"
        viewBox="0 0 16 16">
        <path fill-rule="evenodd"
          d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z" />
      </svg>
    </button>
  </div>

  <div class="dropdown" id="Dropdown">
    <button class="btn btn-secondary dropdown-toggle" type="reset" id="Dropdown-Button" data-bs-toggle="dropdown"
      aria-expanded="false" (click)="this.changeFocus()" (focus)="this.setFalse()">
      Technologies
    </button>
    <ul class="dropdown-menu" aria-labelledby="Dropdown-Button" id="Dropdown-List">
      <li *ngFor="let id of technology"><a class="dropdown-item"
          (click)="retrieveStacktracesByTechnology(id.technologyId)">{{id.technologyName}}</a></li>
    </ul>
    <button routerLink="/stacktraces/addstacktrace" class="btn btn-success" type="button" id="Add-Button">Add
      Stacktrace</button>
  </div>

  <div class="wrapper">
    <div class="table-responsive" id="Table">
      <table class="table table-striped table-borderless">






        <thead>
          <tr>
            <th scope="col">Title</th>
            <th scope="col">Technology</th>
          </tr>
        </thead>
        <tbody>
          <tr class="list-group-item" *ngFor="
          let stacktrace of stacktraces | paginate : {
                  itemsPerPage: pageSize,
                  currentPage: page,
                  totalItems: count
                };
          let i = index
        " [class.active]="i == currentIndex" (click)="setActiveStacktrace(stacktrace, i)">
            <td>{{ stacktrace.title }}</td>
            <td>{{ stacktrace.technologyName }}</td>
          </tr>
        </tbody>
        <div class="col">
          <div *ngIf="currentStacktrace">
            <h4>Stacktrace</h4>
            <div>
              <label><strong>Stacktrace ID:</strong></label> {{ currentStacktrace.stacktraceId }}
            </div>
            <div>
              <label><strong>Creator ID:</strong></label> {{ currentStacktrace.userName}}
            </div>
            <div>
              <label><strong>Title:</strong></label> {{ currentStacktrace.title }}
            </div>
            <div>
              <label><strong>Body:</strong></label>
              {{ currentStacktrace.body }}
            </div>
            <div>
              <label><strong>TechnologyId:</strong></label>
              {{ currentStacktrace.technologyName }}
            </div>
            <div>
              <label><strong>Creation Time:</strong></label>
              {{ currentStacktrace.creationTime }}
            </div>


            <a routerLink="/stacktraces/{{ currentStacktrace.stacktraceId }}">Edit Stacktrace</a>
          </div>
        </div>
      </table>

      


    </div>
    <div id="Pagination">
      <pagination-controls previousLabel="Prev" nextLabel="Next" [responsive]="true"
        (pageChange)="handlePageChange($event)"></pagination-controls>
    </div>

    <div class="mt-3" id="page-item-count">
      Items per Page:
      <select (change)="handlePageSizeChange($event)">
        <option *ngFor="let size of pageSizes" [ngValue]="size">
          {{ size }}
        </option>
      </select>
    </div>
<!-- 
    <nav aria-label="Page navigation example" id="Pagination">
      <ul class="pagination" id="Pagination-List">
        <li class="page-item"><a class="page-link" href="#">Previous</a></li>
        <li class="page-item"><a class="page-link" href="#">1</a></li>
        <li class="page-item"><a class="page-link" href="#">2</a></li>
        <li class="page-item"><a class="page-link" href="#">3</a></li>
        <li class="page-item"><a class="page-link" href="#">Next</a></li>
      </ul>
    </nav> -->

  </div>